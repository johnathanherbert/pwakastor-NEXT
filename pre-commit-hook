#!/bin/sh
#
# Pre-commit hook que atualiza automaticamente a vers√£o da aplica√ß√£o
# a cada novo commit.

echo "üîÑ Executando hook pre-commit para atualiza√ß√£o de vers√£o..."

# Executa o script de atualiza√ß√£o de vers√£o
node update-version.js

# Verifica se o script foi executado com sucesso
if [ $? -ne 0 ]; then
  echo "‚ùå Erro ao atualizar a vers√£o da aplica√ß√£o"
  exit 1
fi

# Adiciona os arquivos atualizados ao commit
git add public/api/version.json public/manifest.json

echo "‚úÖ Vers√£o atualizada com sucesso e adicionada ao commit"
exit 0